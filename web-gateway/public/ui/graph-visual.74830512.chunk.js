(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1105:function(e,t,r){e.exports=r.p+"d3888297.png"},1106:function(e,t,r){e.exports=r.p+"56a18bf9.png"},1107:function(e,t,r){e.exports=r.p+"a5bef146.png"},1968:function(e,t,r){"use strict";r.r(t);var n,o=r(14),a=r.n(o),i=r(490),c=r(10),l=r.n(c),s=r(53),u=r.n(s),p=r(131),d=r(96),f=r(136),b=r(514),y=r(481);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var c in a)void 0===t[c]&&(t[c]=a[c]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=new Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),function(e,t,r){t&&m(e.prototype,t),r&&m(e,r)}(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.value,n=t.classes;return g(y.y,{component:"fieldset",className:n.formControl},void 0,g(y.X,{"aria-label":"queryBuilderSelector",name:"queryBuilderSelector",className:n.group,value:r||"queryBuilder",onClick:function(t){e.props.switchQueryBuilder({builderType:t.target.value})},row:!0},void 0,g(y.z,{value:"queryBuilder",control:g(y.W,{className:n.radioLabel}),label:"Query Builder"}),g(y.z,{value:"rawQuery",control:g(y.W,{className:n.radioLabel}),label:"Raw Query"})))}}]),t}();Object.defineProperty(O,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{classes:{},value:""}});var w,j=Object(p.b)(null,{switchQueryBuilder:d.i})(Object(y.ub)(function(e){return{group:{margin:"".concat(e.spacing.unit,"px 0")},formControl:{margin:e.spacing.unit},radioLabel:{color:"#3f51b5 !important"}}},{withTheme:!0})(O));function T(e,t,r,n){w||(w="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:w,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var S=function(e){var t=e.label,r=e.value,n=e.disabled,o=e.list,a=e.classes,i=e.id,c=e.style,l=e.isTheme;return T(y.y,{className:a.formControlTextField,style:c},void 0,T(y.I,{shrink:!0,htmlFor:"age-label-placeholder"},void 0,t),T(y.ab,{id:i,value:r,onChange:function(t){e.handleChange(t)},disabled:n,displayEmpty:!0},void 0,T(y.R,{value:""},void 0,T("em",{},void 0,"Select ",t," ")),u.a.map(o,function(e){return T(y.R,{value:e.value,disableRipple:!0},e.label,l&&T("span",{style:{display:"inline-block",width:20,height:20,background:"".concat(e.value),marginRight:10}}),T("span",{style:{display:"inline-block"}},void 0,e.label))})))};S.defaultProps={style:{},isTheme:!1,disabled:!1};var C=Object(y.ub)(function(e){return{formControlTextField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,marginBottom:e.spacing.unit,width:150}}},{withTheme:!0})(S),k=r(1423),N=r.n(k),x=r(1422),E=r(880),P=r(1418),R=r.n(P),B=r(1410),_=r.n(B),z=r(1111),A=r.n(z),I=function(e,t){for(var r=t||"",n=atob(e),o=n.length,a=Math.ceil(o/1024),i=new Array(a),c=0;c<a;++c){for(var l=1024*c,s=Math.min(l+1024,o),u=new Array(s-l),p=l,d=0;p<s;++d,++p)u[d]=n[p].charCodeAt(0);i[c]=new Uint8Array(u)}return new Blob(i,{type:r})};function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function F(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?K(e):t}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var V=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return F(n,(r=n=F(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Object.defineProperty(K(n),"getCyID",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.props.containerID||"cy"}}),Object.defineProperty(K(n),"getContainer",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.container}}),Object.defineProperty(K(n),"defaultStyle",{configurable:!0,enumerable:!0,writable:!0,value:function(){return[{selector:"node",css:{content:function(e){return e.data("label")||e.data("id")},"text-valign":"center","text-halign":"center"}},{selector:"$node > node",css:{"padding-top":"10px","padding-left":"10px","padding-bottom":"10px","padding-right":"10px","text-valign":"top","text-halign":"center","background-color":"#bbb"}},{selector:"edge",css:{"target-arrow-shape":"triangle"}},{selector:":selected",css:{"background-color":"black","line-color":"black","target-arrow-color":"black","source-arrow-color":"black"}}]}}),Object.defineProperty(K(n),"style",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.props.style||n.defaultStyle()}}),Object.defineProperty(K(n),"elements",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.props.elements||{}}}),Object.defineProperty(K(n),"layout",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.props.layout||{name:"cola"}}}),Object.defineProperty(K(n),"cytoscapeOptions",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.props.cytoscapeOptions||{}}}),Object.defineProperty(K(n),"build",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Object.assign({container:n.getContainer(),style:n.style(),elements:n.elements(),layout:n.layout()},n.cytoscapeOptions());return n.cy=cytoscape(e),n.props.cyRef&&n.props.cyRef(n.cy),n.cy}}),Object.defineProperty(K(n),"clean",{configurable:!0,enumerable:!0,writable:!0,value:function(){n.cy&&n.cy.destroy()}}),r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),function(e,t,r){t&&q(e.prototype,t),r&&q(e,r)}(t,[{key:"componentDidMount",value:function(){this.build()}},{key:"componentDidUpdate",value:function(){this.clean(),this.build()}},{key:"componentWillUnmount",value:function(){this.clean()}},{key:"render",value:function(){var e=this,t=this.props.styleContainer||{},r=Object.assign({height:"calc(78vh)",margin:"0 auto"},t);return a.a.createElement("div",{className:"graph",id:this.getCyID(),ref:function(t){e.container=t},style:r})}}]),t}();Object.defineProperty(V,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{styleContainer:{}}});var L,U=V,W=r(1),$=r(486),G=r(485);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}cytoscape.use(R.a),cytoscape.use(_.a),cytoscape.use(A.a);var J=[{selector:"edge",css:{textBackgroundOpacity:1,textBackgroundColor:"white",textBackgroundShape:"rectangle",content:function(e){return e.data("synName")||e.data("key")},curveStyle:"straight",targetArrowShape:"triangle",edgeTextRotation:"autorotate",arrowScale:"data(edgeSize)",lineColor:"data(color)",targetArrowColor:"data(color)",width:function(e){return e.data("edgeSize")},fontSize:function(e){return e.data("fontSize")},controlPointStepSize:70}},{selector:"node",css:{content:"data(synName)",backgroundColor:"data(color)",borderWidth:1,borderStyle:"solid",borderColor:"data(borderColor)",width:"data(nodeSize)",height:"data(nodeSize)",textValign:"center",textHalign:"center",textWrap:function(e){var t=e.data("synName")||e.data("name");return W.C.nodeEdgeName.test(t)?"ellipsis":"wrap"},textMaxWidth:"data(nodeSize)",fontSize:"data(fontSize)",color:W.e.WHITE}},{selector:"node.highlight",style:{borderWidth:3}},{selector:"edge.hover",style:{width:2,fontSize:14}}],Y=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return M(n,(r=n=M(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Object.defineProperty(Q(n),"state",{configurable:!0,enumerable:!0,writable:!0,value:{data:n.props.data,layout:n.props.layout}}),r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),function(e,t,r){t&&Z(e.prototype,t),r&&Z(e,r)}(t,[{key:"shouldComponentUpdate",value:function(e,t){var r=this.state.layout;return!Object(s.isEqual)(e.data,t.data)||(!!Object(s.isEqual)(W.k.PNG,e.downloadItem)||!(!e.layout||Object(s.isEqual)(e.layout,r)))}},{key:"getElements",value:function(){var e=this.state.data,t=e.nodes,r=e.relations;return{nodes:Object(s.filter)(t,function(e){return e.data.flag}),edges:Object(s.filter)(r,function(e){return e.data.flag})}}},{key:"cyRef",value:function(e){var t=this,r=this.props.downloadItem;if(this.cy=e,Object(s.isEqual)(r,W.k.PNG)){var n=e.png({scale:4}).substring(e.png().indexOf("base64,")+"base64,".length),o=I(n,"image/png");Object(E.saveAs)(o,"graph-visual.png"),this.props.reset()}e.startBatch(),e.contextMenus({menuItems:[{id:"targetUrl",content:"Go to details",tooltipText:"Go to details",selector:"node, edge",onClickFunction:function(e){var r=e.target._private||e.cyTarget;Object(s.isEqual)(r.data.targetUrl,"N/A")?t.props.openNotifier({openNotify:!0,message:W.r.targetUrlNotPresent,variant:"error"}):window.open(r.data.targetUrl,"_blank")},hasTrailingDivider:!0}]}),e.on("tap","node",function(r){var n=r.target,o=r.target._private;e.elements().union(n.outgoers().union(n.incomers())).not(n).removeClass("highlight"),n.addClass("highlight"),t.props.selectCurrentNode(o.data),t.props.selectNode(o.data)}),e.on("tap","edge",function(e){var r=e.target._private;t.props.selectNode(r.data)}),e.on("mouseover","edge",function(e){e.target.addClass("hover"),t.props.selectNode(e.target._private.data)}),e.on("mouseout","edge",function(e){var r=e.target,n=t.props,o=n.currentNode,a=n.node,i=Object(s.cloneDeep)(o);Object(s.isEmpty)(i)?t.props.selectNode(a):(t.props.selectCurrentNode(i),t.props.selectNode(i)),r.removeClass("hover")}),e.endBatch()}},{key:"render",value:function(){var e=this,t=this.state.layout;return function(e,t,r,n){L||(L="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:L,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(U,{containerID:"cy",style:J,elements:this.getElements(),cyRef:function(t){e.cyRef(t)},cytoscapeOptions:{wheelSensitivity:.1},layout:{name:t}})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Object(s.isEqual)(e.data,t.data)?e.layout&&!Object(s.isEqual)(e.layout,t.layout)?{layout:e.layout}:null:{data:e.data}}}]),t}();Object.defineProperty(Y,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{layout:"",openNotifier:function(){}}});var X,ee=Object(p.b)(null,{openNotifier:$.c})(Object(G.a)(Y)),te=r(571);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t,r,n){X||(X="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:X,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ae(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t,r){return t[r]<e[r]?-1:t[r]>e[r]?1:0}var le,se=ne(y.hb,{colSpan:6}),ue=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return ae(n,(r=n=ae(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Object.defineProperty(ie(n),"state",{configurable:!0,enumerable:!0,writable:!0,value:{order:"asc",orderBy:"name",page:0,rowsPerPage:50}}),Object.defineProperty(ie(n),"handleRequestSort",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var r=t,o="desc";n.state.orderBy===t&&"desc"===n.state.order&&(o="asc"),n.setState({order:o,orderBy:r})}}),Object.defineProperty(ie(n),"handleChangePage",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){n.setState({page:t})}}),Object.defineProperty(ie(n),"handleChangeRowsPerPage",{configurable:!0,enumerable:!0,writable:!0,value:function(e){n.setState({rowsPerPage:e.target.value})}}),r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),function(e,t,r){t&&oe(e.prototype,t),r&&oe(e,r)}(t,[{key:"render",value:function(){var e=this.props,t=e.classes,r=e.data,n=e.rows,o=this.state,a=o.order,i=o.orderBy,c=o.rowsPerPage,l=o.page,s=c-Math.min(c,r.length-l*c);return ne(y.T,{className:t.root},void 0,ne("div",{className:t.tableWrapper},void 0,ne(y.fb,{className:t.table,"aria-labelledby":"tableTitle"},void 0,ne(te.a,{order:a,orderBy:i,onRequestSort:this.handleRequestSort,rows:n}),ne(y.gb,{},void 0,function(e,t){var r=e.map(function(e,t){return[e,t]});return r.sort(function(e,r){var n=t(e[0],r[0]);return 0!==n?n:e[1]-r[1]}),r.map(function(e){return e[0]})}(r,function(e,t){return"desc"===e?function(e,r){return ce(e,r,t)}:function(e,r){return-ce(e,r,t)}}(a,i)).slice(l*c,l*c+c).map(function(e){var t=e.label,r=e.attributes,n=e.createdBy,o=e.createdDate,a=e.customTypes,i=e.description,c=e.externalId,l=e.externalKey,s=e.htmlUrl,u=e.modifiedBy,p=e.modifiedDate,d=e.name,f=e.otherInfo,b=e.key,h=e.uri,g=e.targetLabel,m=e.sourceLabel;return ne(y.kb,{hover:!0,tabIndex:-1},e.id,ne(y.hb,{align:"left"},void 0,d),ne(y.hb,{align:"left"},void 0,b),ne(y.hb,{component:"th",scope:"row"},void 0,t),m&&ne(y.hb,{align:"left"},void 0,m),g&&ne(y.hb,{align:"left"},void 0,g),ne(y.hb,{align:"left"},void 0,r),ne(y.hb,{align:"left"},void 0,n),ne(y.hb,{align:"left"},void 0,o),ne(y.hb,{align:"left"},void 0,a),ne(y.hb,{align:"left"},void 0,i),ne(y.hb,{align:"left"},void 0,c),ne(y.hb,{align:"left"},void 0,l),ne(y.hb,{align:"left"},void 0,s),ne(y.hb,{align:"left"},void 0,u),ne(y.hb,{align:"left"},void 0,p),ne(y.hb,{align:"left"},void 0,f),ne(y.hb,{align:"left"},void 0,h))}),s>0&&ne(y.kb,{style:{height:49*s}},void 0,se)))),ne(y.jb,{rowsPerPageOptions:[10,50,100],component:"div",count:r.length,rowsPerPage:c,page:l,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(),pe=Object(y.ub)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:1020},tableWrapper:{overflowX:"auto"}}})(ue);var de,fe=function(e){var t=e.elements;return function(e,t,r,n){le||(le="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:le,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(pe,{rows:W.t,data:t})};var be,ye=function(e){var t=e.elements;return function(e,t,r,n){de||(de="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:de,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(pe,{rows:W.j,data:t})};function he(e,t,r,n){be||(be="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:be,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var ge=he(y.ib,{},void 0,he(y.kb,{},void 0,he(y.hb,{},void 0,"Other Result")));var me,ve=Object(y.ub)(function(e){return{table:{},root:{width:"100%",marginTop:20,overflowX:"auto"}}},{withTheme:!0})(function(e){var t=e.elements,r=e.classes;return he(y.T,{className:r.root},void 0,he(y.fb,{className:r.table},void 0,ge,he(y.gb,{},void 0,t.map(function(e,t){return he(y.kb,{},"".concat(e).concat(t),he(y.hb,{component:"th",scope:"row"},void 0,e))}))))});function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t,r,n){me||(me="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:me,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Te(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?Se(e):t}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ce,ke=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return Te(n,(r=n=Te(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Object.defineProperty(Se(n),"state",{configurable:!0,enumerable:!0,writable:!0,value:{activeIndex:0}}),Object.defineProperty(Se(n),"handleChange",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){n.setState({activeIndex:t})}}),r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),function(e,t,r){t&&je(e.prototype,t),r&&je(e,r)}(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.elements.graphTableEdges!==this.props.elements.graphTableEdges||e.elements.graphTableNodes!==this.props.elements.graphTableNodes||e.elements.otherResult!==this.props.elements.otherResult||t.activeIndex!==this.state.activeIndex}},{key:"render",value:function(){var e=this.state.activeIndex,t=this.props,r=t.elements,n=t.classes;return a.a.createElement(a.a.Fragment,null,we(y.T,{square:!0},void 0,we(y.mb,{value:Number(e),onChange:this.handleChange,variant:"fullWidth",indicatorColor:"primary",textColor:"primary"},void 0,we(y.eb,{className:n.tabs,label:"Nodes Table",disabled:!(u.a.get(r,"vertices.length")||u.a.get(r,"graphTableNodes.length")),disableRipple:!0}),we(y.eb,{className:n.tabs,label:"Edges Table",disabled:!u.a.get(r,"edges.length"),disableRipple:!0}),we(y.eb,{className:n.tabs,label:"Other Results Table",disabled:!u.a.get(r,"otherResult.length"),disableRipple:!0}))),0===e&&u.a.get(r,"graphTableNodes.length")&&we(fe,{elements:r&&r.graphTableNodes}),1===e&&u.a.get(r,"graphTableEdges.length")&&we(ye,{elements:r&&r.graphTableEdges}),2===e&&u.a.get(r,"otherResult.length")&&we(ve,{elements:r&&r.otherResult}))}}],[{key:"getDerivedStateFromProps",value:function(e){return e.elements.otherResult&&e.elements.otherResult.length?{activeIndex:2}:null}}]),t}(),Ne=Object(y.ub)(function(e){return{tabs:{fontWeight:"bold",color:"#000"}}},{withTheme:!0})(ke);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t,r,n){Ce||(Ce="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:Ce,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function Pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Re(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var Be=Object(y.ub)({root:{padding:0,color:"#1b144E !important",cursor:"pointer"}})(y.e),_e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Re(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),function(e,t,r){t&&Pe(e.prototype,t),r&&Pe(e,r)}(t,[{key:"render",value:function(){var e=this.props,t=e.checked,r=e.value,n=e.onChange,o=e.containerBackground,a=e.id,i=e.onClick,c=e.label,l=e.classes,u=e.key,p=e.data,d=e.disabled,f=e.style;return Ee("div",{className:l.wrapper},u,r&&Ee(Be,{checked:t,value:r,onChange:n("".concat(r))}),Ee("span",{className:l.domainType,style:Object(s.isEmpty)(f)?{background:"".concat(o),cursor:d?"not-allowed":"pointer"}:Object(s.extend)({background:"".concat(o),cursor:d?"not-allowed":"pointer",width:f.width,textAlign:"center",border:f.border?f.border:"none"}),id:a,onClick:function(e){Object(s.isObject)(p)&&!Object(s.isEmpty)(p)?i(p,e):i(e)},disabled:d},void 0,c))}}]),t}();Object.defineProperty(_e,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{key:null,checked:!1,value:null,onChange:function(){},containerBackground:null,data:{},disabled:!1,onClick:function(){},id:null,style:{}}});var ze,Ae=Object(y.ub)(function(e){return{wrapper:{marginBottom:10,minWidth:240,float:"left"},domainType:{marginLeft:2,marginRight:10,display:"inline-block",padding:5,borderRadius:20,fontWeight:400,cursor:"pointer",color:"".concat(W.e.WHITE)}}},{withTheme:!0})(_e);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t,r,n){ze||(ze="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:ze,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function qe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fe(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var Ke,Ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),function(e,t,r){t&&qe(e.prototype,t),r&&qe(e,r)}(t,[{key:"render",value:function(){var e=this.props,t=e.classes,r=e.checked,n=e.handleSwitch;return De(y.A,{row:!0},void 0,De(y.z,{control:De(y.db,{checked:r,onChange:n,value:"checkedA",classes:{switchBase:t.colorSwitchBase,checked:t.colorChecked,bar:t.colorBar}}),label:r?"Repository types":"Labels"}))}}]),t}();Object(y.ub)(function(e){return{colorSwitchBase:{color:y.tb[300],"&$colorChecked":{color:y.tb[500],"& + $colorBar":{backgroundColor:y.tb[500]}}},colorBar:{},colorChecked:{},iOSSwitchBase:{"&$iOSChecked":{color:e.palette.common.white,"& + $iOSBar":{backgroundColor:"#52d869"}},transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest,easing:e.transitions.easing.sharp})},iOSChecked:{transform:"translateX(15px)","& + $iOSBar":{opacity:1,border:"none"}},iOSBar:{borderRadius:13,width:42,height:26,marginTop:-13,marginLeft:-21,border:"solid 1px",borderColor:e.palette.grey[400],backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},iOSIcon:{width:24,height:24},iOSIconChecked:{boxShadow:e.shadows[1]}}})(Ve);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function We(e,t,r,n){Ke||(Ke="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:Ke,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function $e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ge(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var He=We(y.p,{id:"form-dialog-title"},void 0,"Graph Display Preferences"),Ze=We(y.q,{}),Me=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),function(e,t,r){t&&$e(e.prototype,t),r&&$e(e,r)}(t,[{key:"render",value:function(){var e=this.props,t=e.theme,r=e.handleChangeNodeTheme,n=e.classes,o=e.relationEdgeTheme,i=e.ownedByEdgeTheme,c=e.hasTypeEdgeTheme,l=e.selectDomainType,s=e.selectRelationType,p=e.handleChangeNodeProps,d=e.handleSelect,f=e.checkedHasType,b=e.checkedOwnedBy,h=e.checkedRelation,g=e.open,m=e.onSave,v=e.onClose,O=e.graphData,w=e.handleChangeThemeColor,j=e.handleChangeEdgeProps,T=e.handleSwitch,S=t.domain,C=t.domainLabel,k=t.checkedRepository,N=t.checkedArtifact,x=t.checkedContainer,E=t.checkedType,P=t.preferences;return We(y.m,{open:g,onClose:v,maxWidth:"md",fullWidth:!0},void 0,He,We(y.o,{},void 0,We("div",{className:n.domainIdentifier},void 0,We("div",{className:n.contentWrapper},void 0,We(y.C,{className:n.gridContainer,container:!0,spacing:24},void 0,We(y.C,{xs:4},void 0,We("span",{className:n.wrapperHeader,style:{marginTop:10,display:"inline-block"}},void 0,u.a.isEqual(P,"repositoryType")?"Repository type color preferences":"Node type color preferences")),We(y.C,{xs:4},void 0,We(y.y,{component:"fieldset"},void 0,We(y.X,{"aria-label":"queryBuilderSelector",name:"queryBuilderSelector",className:n.group,value:P,onClick:T,row:!0},void 0,We(y.z,{value:"repositoryType",control:We(y.W,{className:n.radioLabel}),label:"Repository type"}),We(y.z,{value:"nodeLabel",control:We(y.W,{className:n.radioLabel}),label:"Node label"}))))),u.a.isEqual(P,"repositoryType")?We(y.C,{className:n.gridContainer,container:!0,spacing:24},void 0,u.a.map(u.a.get(O,"repositories"),function(e){return We(y.C,{xs:4},e.key,We(Ae,{containerBackground:t["".concat(e.key,"NodeTheme")],id:"".concat(e.key),onClick:l,label:e.name,data:e,style:{width:"100%",border:u.a.isEqual(C,e.name)?"2px solid #000":"none"}},"".concat(e.key)))}),We(y.C,{xs:4},void 0,We(Ae,{containerBackground:t.typeNodeTheme,id:"type",onClick:l,label:"Type",style:{width:"100%",border:u.a.isEqual(C,"type")?"2px solid #000":"none"}}))):We(y.C,{className:n.gridContainer,container:!0,spacing:24},void 0,We(y.C,{xs:2},void 0,We(Ae,{containerBackground:u.a.get(t,"artifactNodeTheme"),id:"artifact",onClick:l,label:"Artifact",style:{width:100,border:u.a.isEqual(C,"artifact")?"2px solid #000":"none"}})),We(y.C,{xs:2},void 0,We(Ae,{containerBackground:u.a.get(t,"containerNodeTheme"),id:"container",onClick:l,label:"Container",style:{width:100,border:u.a.isEqual(C,"container")?"2px solid #000":"none"}})),We(y.C,{xs:2},void 0,We(Ae,{containerBackground:u.a.get(t,"repositoryNodeTheme"),id:"repository",onClick:l,label:"Repository",style:{width:100,border:u.a.isEqual(C,"repository")?"2px solid #000":"none"}})),We(y.C,{xs:2},void 0,We(Ae,{containerBackground:u.a.get(t,"typeNodeTheme"),id:"type",onClick:l,label:"Type",style:{width:100,border:u.a.isEqual(C,"type")?"2px solid #000":"none"}})))),We("div",{className:n.contentWrapper},void 0,We("p",{className:n.wrapperHeader},void 0,"Edge Types"),We(y.C,{className:n.gridContainer,container:!0,spacing:24},void 0,We(y.C,{xs:2},void 0,We(Ae,{checked:h,value:"checkedRelation",onChange:d,containerBackground:o,id:"relation",onClick:s,label:"Relation",style:{width:100,border:u.a.isEqual(C,"relation")?"2px solid #000":"none"}})),We(y.C,{xs:2},void 0,We(Ae,{checked:f,value:"checkedHasType",onChange:d,containerBackground:c,id:"hasType",onClick:s,label:"hasType",style:{width:100,border:u.a.isEqual(C,"hasType")?"2px solid #000":"none"}})),We(y.C,{xs:2},void 0,We(Ae,{checked:b,value:"checkedOwnedBy",onChange:d,containerBackground:i,id:"ownedBy",onClick:s,label:"ownedBy",style:{width:100,border:u.a.isEqual(C,"ownedBy")?"2px solid #000":"none"}})))),We("div",{className:n.contentWrapper},void 0,We("p",{className:n.wrapperHeader},void 0,"Show or hide Node Types"),We(y.C,{className:n.gridContainer,container:!0,spacing:24},void 0,We(y.C,{xs:2},void 0,We(Ae,{checked:N,value:"checkedArtifact",onChange:d,containerBackground:"grey",disabled:!0,label:"Artifact",style:{width:100}})),We(y.C,{xs:2},void 0,We(Ae,{checked:x,value:"checkedContainer",onChange:d,containerBackground:"grey",label:"Container",style:{width:100},disabled:!0})),We(y.C,{xs:2},void 0,We(Ae,{checked:k,value:"checkedRepository",onChange:d,containerBackground:"grey",label:"Repository",disabled:!0,style:{width:100}})),We(y.C,{xs:2},void 0,We(Ae,{checked:E,value:"checkedType",onChange:d,containerBackground:"grey",label:"Type",disabled:!0,style:{width:100}})))),Ze,We("div",{className:n.contentWrapper},void 0,We("p",{className:n.wrapperHeader},void 0,"Select color and size"),!u.a.includes(["hasType","relation","ownedBy","type"],S)&&C&&We("span",{className:n.domainType,style:{background:t["".concat(S,"NodeTheme")],width:240,textAlign:"center"}},void 0,u.a.chain(C).lowerCase().capitalize().replace("repository type","").value()),u.a.isEqual(S,"type")&&We("span",{className:n.domainType,style:{background:"".concat(t.typeNodeTheme),width:240}},void 0,"Type"),u.a.isEqual(S,"relation")&&We("span",{className:n.domainType,style:{background:"".concat(o),width:240}},void 0,"Relation"),u.a.isEqual(S,"hasType")&&We("span",{className:n.domainType,style:{background:"".concat(c),width:240}},void 0,"hasType"),u.a.isEqual(S,"ownedBy")&&We("span",{className:n.domainType,style:{background:"".concat(i),width:240}},void 0,"ownedBy"),We("span",{style:{display:"inline-block",marginRight:5,marginLeft:10}},void 0,"Color"),u.a.map(W.z,function(e,n){return We("span",{style:{display:"inline-block",width:20,height:20,background:"".concat(e.value),marginRight:5,borderRadius:10,cursor:"pointer"},id:e,onClick:function(){u.a.includes(["hasType","relation","ownedBy"],u.a.get(t,"domain"))?r(e):w(e)}},n)}),We("span",{style:{display:"inline-block",marginRight:5,marginLeft:10}},void 0,"Size"),u.a.includes(Ue(u.a.chain(u.a.get(O,"repositories")).map(function(e){return u.a.camelCase(e.sKey)}).value()).concat(["type"]),S)?a.a.createElement(a.a.Fragment,null,u.a.map(W.s,function(e,t){return We("span",{style:{display:"inline-block",width:5*e.value,height:5*e.value,background:"#d4d7db",marginTop:5-2*t,marginRight:5,borderRadius:5*e.value/2,cursor:"pointer"},onClick:function(){p(e)}},t)})):a.a.createElement(a.a.Fragment,null,u.a.map(W.i,function(e,t){return We("span",{style:{display:"inline-block",width:10*e.value,height:2*e.value,background:"#d4d7db",marginTop:2*(5-t),marginRight:5,cursor:"pointer"},onClick:function(){return j(e.edgeSize,e.fontSize)}},t)}))))),We(y.n,{},void 0,We(y.d,{variant:"contained",className:n.button,onClick:m,color:"primary"},void 0,"Ok"),We(y.d,{variant:"contained",className:n.button,onClick:v,color:"primary"},void 0,"Cancel")))}}]),t}();Object.defineProperty(Me,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{classes:{},relationEdgeTheme:"",hasTypeEdgeTheme:"",ownedByEdgeTheme:"",handleChangeNodeTheme:function(){},checkedHasType:!1,checkedOwnedBy:!1,checkedRepository:!1,checkedArtifact:!1,checkedContainer:!1,checkedType:!1,checkedRelation:!1,graphData:{}}});var Qe,Je=Object(y.ub)(function(e){return{domainIdentifier:{height:"100%",textAlign:"left",width:"100%"},domainType:{marginLeft:2,padding:5,borderRadius:20,fontWeight:400,cursor:"pointer",color:"".concat(W.e.WHITE),display:"inline-block",textAlign:"center",marginRight:5},progress:{margin:"50px auto",textAlign:"center",display:"block"},tabs:{minWidth:80},fab:{float:"right",background:W.e.NAVY_BLUE,color:W.e.WHITE,"&:hover":{background:W.e.NAVY_BLUE,color:W.e.WHITE}},contentWrapper:{marginBottom:20,clear:"both"},wrapperHeader:{marginBottom:10,fontWeight:"bold",fontSize:18},button:{textTransform:"capitalize",margin:e.spacing.unit,backgroundColor:W.e.NAVY_BLUE},gridContainer:{margin:"0 0 0 -6px !important"},group:{margin:0},radioLabel:{color:"".concat(W.e.NAVY_BLUE," !important")}}})(Me),Ye=r(1107),Xe=r.n(Ye),et=r(1106),tt=r.n(et),rt=r(1105),nt=r.n(rt);function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function it(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ct(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?lt(e):t}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e,t,r,n){Qe||(Qe="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:Qe,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function ut(e){var t=e.icon;return st("img",{src:t,style:{width:22},alt:t})}function pt(e){var t=e.children,r=e.table;return st(y.qb,{component:"div",style:{padding:10,width:r?"88vw":"100%",minHeight:"88vh",maxHeight:"88vh",overflow:"auto"}},void 0,t)}var dt=Object(y.ub)({flexContainer:{flexDirection:"column",width:80},indicator:{display:"none"}})(y.mb),ft=Object(y.ub)({selected:{color:"tomato",background:"#d4d7db"}})(y.eb),bt=st(ut,{icon:Xe.a}),yt=st(ut,{icon:nt.a}),ht=st(ut,{icon:tt.a}),gt=st(y.Y,{}),mt=st(y.s,{}),vt=st(y.C,{item:!0,xs:8}),Ot=st(y.Y,{}),wt=st(y.C,{item:!0,xs:8}),jt=st(y.Y,{}),Tt=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return ct(n,(r=n=ct(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Object.defineProperty(lt(n),"state",{configurable:!0,enumerable:!0,writable:!0,value:{open:!1,downloadItem:""}}),Object.defineProperty(lt(n),"handleSaveThemeModal",{configurable:!0,enumerable:!0,writable:!0,value:function(){n.setState({open:!1}),n.props.handleDisplayChange()}}),Object.defineProperty(lt(n),"handleCloseThemeModal",{configurable:!0,enumerable:!0,writable:!0,value:function(){n.setState({open:!1})}}),Object.defineProperty(lt(n),"handleClickOpen",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e,t){try{var r=a[e](t),i=r.value}catch(e){return void o(e)}r.done?n(i):Promise.resolve(i).then(c,l)}function c(e){i("next",e)}function l(e){i("throw",e)}c()})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({open:!0});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),Object.defineProperty(lt(n),"reset",{configurable:!0,enumerable:!0,writable:!0,value:function(){n.setState({downloadItem:""})}}),Object.defineProperty(lt(n),"downloadItem",{configurable:!0,enumerable:!0,writable:!0,value:function(e){n.setState({downloadItem:e})}}),Object.defineProperty(lt(n),"generateData",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=[];return u.a.each(e,function(e){t=e.sourceVertex&&e.targetVertex?at(t).concat([e.sourceVertex,e.targetVertex]):at(t).concat([e])}),u.a.chain(t).uniqBy("id").value()}}),Object.defineProperty(lt(n),"generateDataOtherResult",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=[];return u.a.each(e,function(e){t=at(t).concat([{otherResult:e}])}),t}}),Object.defineProperty(lt(n),"handleChange",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){return n.props.setActiveVerticalTab(t)}}),Object.defineProperty(lt(n),"downloadJson",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=n.props.graphData,t=new Blob([JSON.stringify({vertices:e&&e.vertices,edges:e&&e.edges,otherResult:e&&e.otherResult})],{type:"application/javascript;charset=utf-8"});Object(E.saveAs)(t,"json-data.json"),n.reset()}}),r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),function(e,t,r){t&&it(e.prototype,t),r&&it(e,r)}(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.theme,n=t.handleChangeNodeTheme,o=t.graphData,i=t.nodes,c=t.relations,l=t.layout,s=t.classes,p=t.relationEdgeTheme,d=t.ownedByEdgeTheme,f=t.hasTypeEdgeTheme,b=t.loading,h=t.selectDomainType,g=t.selectRelationType,m=t.handleChangeNodeProps,v=t.handleChangeEdgeProps,O=t.handleSelect,w=t.checkedHasType,j=t.checkedOwnedBy,T=t.checkedRelation,S=t.selectNode,C=t.handleDisplayChange,k=t.selectCurrentNode,E=t.handleChangeThemeColor,P=t.handleSwitch,R=r.node,B=r.currentNode,_=this.state,z=_.open,A=_.downloadItem,I=o&&(o.vertices||o.edges)?at(o.vertices).concat(at(o.edges)):[],D={vertices:o&&o.vertices,edges:o&&o.edges};return a.a.createElement(a.a.Fragment,null,st("div",{style:{display:"flex",width:"100%"}},void 0,st(dt,{value:u.a.get(o,"activeIndex")||0,onChange:this.handleChange},void 0,st(ft,{className:s.tabs,icon:bt}),st(ft,{className:s.tabs,icon:yt}),st(ft,{className:s.tabs,icon:ht})),0===u.a.get(o,"activeIndex")&&st(pt,{table:!1},void 0,st("div",{className:s.domainIdentifier},void 0,st(y.C,{container:!0,spacing:16},void 0,st(y.C,{item:!0,xs:8},void 0,st("div",{},void 0,st("span",{className:s.spanStyle},void 0,"Name:"),"  ",u.a.isEqual(B,R)?u.a.get(B,"synName"):u.a.get(R,"synName")||"NA",st("span",{className:s.spanStyle,style:{marginLeft:20}},void 0,"Key:")," ",u.a.isEqual(B,R)?u.a.get(B,"key"):u.a.get(R&&R.key)||"NA",st("span",{className:s.spanStyle,style:{marginLeft:20}},void 0,"External Id:")," ",u.a.isEqual(B,R)?u.a.get(B,"externalId"):u.a.get(R,"externalId")||"NA",st("span",{className:s.spanStyle,style:{marginLeft:20}},void 0,"External Key:")," ",u.a.isEqual(B,R)?u.a.get(B,"externalKey"):u.a.get(R,"externalKey")||"NA")),st(y.C,{item:!0,xs:4},void 0,st(y.x,{size:"small",color:"secondary",className:s.fab,onClick:function(){return e.downloadItem("png")}},void 0,gt),st(y.x,{size:"small",color:"secondary",className:s.fab,onClick:this.handleClickOpen},void 0,mt)))),!b&&u.a.some([u.a.get(i,"length"),u.a.get(c,"length")],Boolean)?a.a.createElement(a.a.Fragment,null,st(ee,{data:{nodes:i,relations:c},layout:l,selectDomainType:h,selectRelationType:g,selectNode:S,selectCurrentNode:k,downloadItem:A,reset:this.reset,node:R,currentNode:B})):a.a.createElement(a.a.Fragment,null,b?st(y.i,{className:s.progress}):st("p",{style:{textAlign:"center"}},void 0,W.r.noResults))),1===u.a.get(o,"activeIndex")&&st(pt,{table:!0},void 0,st("div",{className:s.domainIdentifier},void 0,st(y.C,{container:!0,spacing:16},void 0,vt,st(y.C,{item:!0,xs:4},void 0,st(y.x,{size:"small",color:"secondary",className:s.fab},void 0,st(x.CSVLink,{className:s.downloadBtn,data:u.a.get(o,"otherResult.length")?this.generateDataOtherResult(o.otherResult):this.generateData(at(o.graphTableEdges).concat(at(o.graphTableNodes))),filename:"csv-data.csv"},void 0,Ot))))),b||!u.a.get(I,"length")&&!u.a.get(o,"otherResult.length")?a.a.createElement(a.a.Fragment,null,b?st(y.i,{className:s.progress}):st("p",{style:{textAlign:"center"}},void 0,W.r.noResults)):st(Ne,{elements:o})),2===u.a.get(o,"activeIndex")&&st(pt,{table:!1},void 0,st("div",{className:s.domainIdentifier},void 0,st(y.C,{container:!0,spacing:16},void 0,wt,st(y.C,{item:!0,xs:4},void 0,st(y.x,{size:"small",color:"secondary",className:s.fab,onClick:this.downloadJson},void 0,jt)))),b||u.a.isEmpty(o)?a.a.createElement(a.a.Fragment,null,b?st(y.i,{className:s.progress}):st("p",{style:{textAlign:"center"}},void 0,W.r.noResults)):st(N.a,{collapsed:!0,src:2===o.activeIndex?u.a.extend(D,{otherResult:u.a.get(o,"otherResult")}):D,indentWidth:10}))),st(Je,{open:z,onClose:this.handleCloseThemeModal,onSave:this.handleSaveThemeModal,theme:r,graphData:o,relationEdgeTheme:p,hasTypeEdgeTheme:f,ownedByEdgeTheme:d,checkedHasType:w,checkedOwnedBy:j,checkedRelation:T,handleChangeNodeTheme:n,handleChangeThemeColor:E,selectDomainType:h,selectRelationType:g,handleChangeNodeProps:m,handleChangeEdgeProps:v,handleSelect:O,handleDisplayChange:C,handleSwitch:P}))}}]),t}();Object.defineProperty(Tt,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{graphData:{},layout:"",classes:{},edgeTheme:"",relationEdgeTheme:"",hasTypeEdgeTheme:"",ownedByEdgeTheme:"",handleChangeNodeTheme:function(){},loading:!1,checkedHasType:!1,checkedOwnedBy:!1,checkedRelation:!1,selectNode:function(){},selectCurrentNode:function(){}}});var St,Ct=Object(y.ub)(function(e){return{domainIdentifier:{height:50,textAlign:"left"},domainType:{marginLeft:2,padding:5,borderRadius:20,fontWeight:400,cursor:"pointer",color:"".concat(W.e.BLACK),display:"block",float:"left",textAlign:"center",marginRight:5,width:77},progress:{margin:"50px auto",textAlign:"center",display:"block"},tabs:{minWidth:80},fab:{float:"right",background:"#1b144e",color:"#fff","&:hover":{background:"#1b144e",color:"#fff"},marginLeft:10},spanStyle:{fontWeight:"bold",display:"inline-block"},downloadBtn:{textDecoration:"none",color:"#fff"}}},{withTheme:!0})(Tt);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t,r,n){St||(St="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:St,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function xt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Et(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var Pt=Nt(y.p,{id:"form-dialog-title"},void 0,"Add / edit a property"),Rt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Et(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),function(e,t,r){t&&xt(e.prototype,t),r&&xt(e,r)}(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,r=e.propertyKey,n=e.propertyValue,o=e.handleChange,a=e.open,i=e.onSave;return Nt(y.m,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},void 0,Pt,Nt(y.o,{},void 0,Nt(y.nb,{autoFocus:!0,margin:"dense",id:"propertyKey",label:"Property Key",value:r,onChange:o,fullWidth:!0}),Nt(y.nb,{autoFocus:!0,margin:"dense",id:"propertyValue",label:"Property Value",value:n,onChange:o,fullWidth:!0})),Nt(y.n,{},void 0,Nt(y.d,{onClick:t,color:"primary"},void 0,"Cancel"),Nt(y.d,{onClick:i,color:"primary"},void 0,"Save")))}}]),t}();Object.defineProperty(Rt,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{onClose:function(){},selectedValue:"",propertyKey:"",propertyValue:"",handleChange:"",open:!1,onSave:function(){}}});var Bt,_t=Rt;function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,t,r,n){Bt||(Bt="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:Bt,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function It(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dt(e,t){return!t||"object"!==zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var qt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),function(e,t,r){t&&It(e.prototype,t),r&&It(e,r)}(t,[{key:"render",value:function(){var e=this.props,t=e.classes,r=e.propertyKey,n=e.propertyValue,o=e.handleClick;return At("div",{className:t.formWrapper},void 0,At(y.h,{label:"".concat(r," : ").concat(n),onDelete:function(){return o(r,n)},className:t.chip,color:"primary",variant:"outlined"}))}}]),t}();Object.defineProperty(qt,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{propertyKey:"",propertyValue:"",handleClick:function(){}}});var Ft,Kt=Object(y.ub)(function(e){return{formWrapper:{display:"inline-block"},chip:{margin:e.spacing.unit}}})(qt);function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t,r,n){Ft||(Ft="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:Ft,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function Ut(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Wt(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e,t){try{var r=a[e](t),i=r.value}catch(e){return void o(e)}r.done?n(i):Promise.resolve(i).then(c,l)}function c(e){i("next",e)}function l(e){i("throw",e)}c()})}}function $t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gt(e,t){return!t||"object"!==Vt(t)&&"function"!=typeof t?Ht(e):t}function Ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Mt(e,t,r[t])})}return e}function Mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qt=Lt(y.t,{}),Jt=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return Gt(n,(r=n=Gt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Object.defineProperty(Ht(n),"queue",{configurable:!0,enumerable:!0,writable:!0,value:[]}),Object.defineProperty(Ht(n),"state",{configurable:!0,enumerable:!0,writable:!0,value:{propertyKey:"",propertyValue:"",graphNodes:[],graphEdges:[],graphTableEdges:[],graphTableNodes:[],properties:{},open:!1,loading:!1,expandedPanel:!0}}),Object.defineProperty(Ht(n),"onSave",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(){var t,r,o,a,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,r=t.properties,o=t.propertyKey,a=t.propertyValue,i=n.props.graph,c=i.query,o&&a){e.next=9;break}return e.next=6,n.setState({open:!1,propertyKey:"",propertyValue:""});case 6:return e.next=8,n.props.openNotifier({openNotify:!0,variant:"warning",message:W.r.mandatoryFields});case 8:return e.abrupt("return");case 9:return r[o]=a,c+=".has('".concat(o,"','").concat(a,"')"),e.next=13,n.setState({properties:r,propertyKey:"",propertyValue:"",open:!1});case 13:return e.next=15,n.props.queryUpdate({query:c});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"setActiveVerticalTab",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.setActiveVerticalTab({activeIndex:t});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"fetchRepositoryTypes",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.context.fetch,e.next=3,n.setState({loading:!0});case 3:return e.prev=3,e.next=6,t("".concat(W.b.analyticsColorCodes,"?code=2"));case 6:return r=e.sent,e.next=9,r.json();case 9:return o=e.sent,e.next=12,n.props.setRepositories({repositories:Object(s.map)(Object(s.get)(o,"resources.RepositoryTypesTrees"),function(e){return e.name=Object(s.replace)(e.name,"RepositoryType",""),e.key=Object(s.camelCase)(e.sKey),e}),cachedRepos:n.formatToObject(Object(s.get)(o,"resources.RepositoryTypesTrees"))});case 12:return Object(s.map)(Object(s.get)(o,"resources.RepositoryTypesTrees"),function(e,t){var r,o;n.props.selectTheme((Mt(r={},"".concat(Object(s.camelCase)(e.sKey),"NodeTheme"),Object(s.get)(W.z[Object(s.random)(0,W.z.length)],"value")),Mt(r,"".concat(Object(s.camelCase)(e.sKey),"NodeBorderTheme"),Object(s.get)(W.z[Object(s.random)(0,W.z.length)],"valueDarker")),r)),n.props.selectNodeSize((Mt(o={},"".concat(Object(s.camelCase)(e.sKey),"NodeSize"),W.f.NODE_SIZE),Mt(o,"".concat(Object(s.camelCase)(e.sKey),"FontSize"),W.f.FONT_SIZE),o)),n.props.checkDomainOrType(Mt({},"".concat(Object(s.camelCase)(e.sKey),"Checked"),!0))}),e.next=15,n.setState({loading:!1});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(3),e.next=21,n.setState({loading:!1});case 21:case"end":return e.stop()}},e,this,[[3,17]])}));return function(){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"formatToObject",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t={};return Object(s.each)(e,function(e){e.children.length&&Object(s.each)(e.children,function(r){t=Zt({},t,Mt({},r,e.sKey))})}),t}}),Object.defineProperty(Ht(n),"setInitialState",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(t){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,o=r.theme,a=r.graph,e.next=3,n.props.layoutUpdate({layout:Object(s.get)(a,"layout")||"circle"});case 3:return e.next=5,n.props.switchNodeThemePreferences({preferences:t?Object(s.get)(o,"preferences"):"repositoryType"});case 5:return e.next=7,n.props.changeDomain({label:Object(s.get)(a,"label")||""});case 7:return e.next=9,n.props.switchQueryBuilder({builderType:Object(s.get)(a,"builderType")||"rawQuery"});case 9:return e.next=11,n.props.selectNode({node:{}});case 11:return e.next=13,n.props.selectCurrentNode({currentNode:{}});case 13:return e.next=15,n.props.setActiveVerticalTab({activeIndex:0});case 15:return e.next=17,n.props.setGraphTableData({graphTableEdges:[],graphTableNodes:[]});case 17:return e.next=19,n.props.setRepositories({repositories:Object(s.get)(a,"repositories")});case 19:return e.next=21,n.props.setOrphanKeys({orphanKeys:Object(s.get)(a,"orphanKeys")||[]});case 21:return Object(s.map)(Object(s.get)(a,"repositories"),function(e,t){var r,a;n.props.selectTheme((Mt(r={},"".concat(Object(s.camelCase)(e.sKey),"NodeTheme"),o["".concat(Object(s.camelCase)(e.sKey),"NodeTheme")]||Object(s.get)(W.z[Object(s.random)(0,W.z.length)],"value")),Mt(r,"".concat(Object(s.camelCase)(e.sKey),"NodeBorderTheme"),o["".concat(Object(s.camelCase)(e.sKey),"NodeBorderTheme")]||Object(s.get)(W.z[Object(s.random)(0,W.z.length)],"valueDarker")),r)),n.props.selectNodeSize((Mt(a={},"".concat(Object(s.camelCase)(e.sKey),"NodeSize"),o["".concat(Object(s.camelCase)(e.sKey),"NodeSize")]||W.f.NODE_SIZE),Mt(a,"".concat(Object(s.camelCase)(e.sKey),"FontSize"),o["".concat(Object(s.camelCase)(e.sKey),"FontSize")]||W.f.FONT_SIZE),a))}),n.props.selectNodeSize({typeFontSize:o.typeFontSize||W.f.FONT_SIZE,typeNodeSize:o.typeNodeSize||W.f.NODE_SIZE,artifactNodeSize:o.artifactNodeSize||W.f.NODE_SIZE,containerNodeSize:o.containerNodeSize||W.f.NODE_SIZE,repositoryNodeSize:o.repositoryNodeSize||W.f.NODE_SIZE}),e.next=25,n.props.selectTheme({artifactNodeTheme:o.artifactNodeTheme||W.e.SUN,artifactNodeBorderTheme:o.artifactNodeTheme||W.e.TERRA_COTTA,containerNodeTheme:o.containerNodeTheme||W.e.CURIOS_BLUE,containerNodeBorderTheme:o.containerNodeBorderTheme||W.e.PICTON_BLUE,repositoryNodeTheme:o.repositoryNodeTheme||W.e.CHATEAU_GREEN,repositoryNodeBorderTheme:o.repositoryNodeBorderTheme||W.e.FERN,typeNodeTheme:o.typeNodeTheme||W.e.DENIM,typeNodeBorderTheme:o.typeNodeBorderTheme||W.e.MARINER,relationEdgeTheme:o.relationEdgeTheme||W.e.BLUE_GEM,hasTypeEdgeTheme:o.hasTypeEdgeTheme||W.e.DENIM,ownedByEdgeTheme:o.ownedByEdgeTheme||W.e.CHAMBRAY});case 25:return e.next=27,n.props.checkDomainOrType({checkedArtifact:!t||o.checkedArtifact,checkedContainer:!t||o.checkedContainer,checkedRepository:!t||o.checkedRepository,checkedHasType:!t||o.checkedHasType,checkedOwnedBy:!t||o.checkedOwnedBy,checkedRelation:!t||o.checkedRelation,checkedType:!t||o.checkedType});case 27:return e.next=29,n.props.selectEdgeSize({typeFontSize:o.typeFontSize||W.f.FONT_SIZE,artifactFontSize:o.artifactFontSize||W.f.FONT_SIZE,containerFontSize:o.containerFontSize||W.f.FONT_SIZE,repositoryFontSize:o.repositoryFontSize||W.f.FONT_SIZE,ownedByEdgeSize:o.ownedByEdgeSize||W.f.EDGE_SIZE,ownedByFontSize:o.ownedByFontSize||W.f.FONT_SIZE,hasTypeEdgeSize:o.hasTypeEdgeSize||W.f.EDGE_SIZE,hasTypeFontSize:o.hasTypeFontSize||W.f.FONT_SIZE,relationEdgeSize:o.relationEdgeSize||W.f.EDGE_SIZE,relationFontSize:o.relationFontSize||W.f.FONT_SIZE});case 29:n.props.selectDomain({domain:o.domain,domainLabel:o.domainLabel});case 30:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"delete",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(t){var r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.graph,o=r.label,a=r.query,i=n.state.properties,a="",delete i[t],a=o,Object(s.map)(i,function(e,t){a+=".has('".concat(t,"','").concat(e,"')")}),e.next=10,n.setState({properties:i});case 10:return e.next=12,n.props.queryUpdate({query:a});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"formatGraphData",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=n.props.graph,t=n.state,r=t.graphEdges,o=t.graphNodes,a=e.vertices,i=e.edges;(a&&a.length||i&&i.length)&&(o=n.createGraphNodes(a),r=n.createGraphEdges(i)),n.setState({graphNodes:o,graphEdges:r},function(){n.generateGraphElements()})}}),Object.defineProperty(Ht(n),"generateGraphElements",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=n.state,t=e.graphTableEdges,r=e.graphTableNodes,o=Object(s.filter)(t,{group:"edges"}),a=Object(s.flatten)(Ut(r).concat([Object(s.filter)(t,{group:"nodes"})]));n.props.setGraphTableData({graphTableEdges:Object(s.chain)(o).map(function(e){var t=e.data;return Object(s.extend)(Object(s.omit)(t,"data"),{id:t.id})}).uniqBy("id").value(),graphTableNodes:Object(s.chain)(a).map(function(e){var t=e.data;return Object(s.extend)(Object(s.omit)(t,"data"),{id:t.id})}).uniqBy("id").value()})}}),Object.defineProperty(Ht(n),"fetchKeys",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(t){var r,o,a,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.context.fetch,o=n.props.graph,a=Object(s.get)(o,"cachedRepos"),e.prev=3,e.next=6,r("".concat(W.b.graph),{method:"POST",body:JSON.stringify({query:"g.V().has('sKey', within(".concat(t,")).local(union(values('sKey'), outE('ownedBy').inV().hasLabel('Repository').outE('hasType').inV().values('sKey')).fold())")}),headers:{"Content-Type":"application/json"}});case 6:return i=e.sent,e.next=9,i.json();case 9:c=e.sent,Object(s.each)(Object(s.get)(c,"resources.otherResult"),function(e){var t=e.replace(/\[/g,"").replace(/\]/g,"").split(", ");a=1!==t.length?Zt({},a,Mt({},t[0],t[1])):Zt({},a,Mt({},t[0],t[0]))}),n.props.setRepositories({cachedRepos:a}),e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(3),e.next=18,n.setState({loading:!1});case 18:case"end":return e.stop()}},e,this,[[3,14]])}));return function(t){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"setColor",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=n.props,r=t.theme,o=t.graph,a=Object(s.get)(o,"cachedRepos")[e];return{nodeColor:r["".concat(Object(s.camelCase)(a),"NodeTheme")]||r.typeNodeTheme,nodeBorderColor:r["".concat(Object(s.camelCase)(a),"NodeBorderTheme")]||r.typeNodeTheme}}}),Object.defineProperty(Ht(n),"selectColor",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return{Repository:{nodeColor:Object(s.get)(n.props.theme,"repositoryNodeTheme"),nodeBorderColor:Object(s.get)(n.props.theme,"repositoryNodeBorderTheme")},Artifact:{nodeColor:Object(s.get)(n.props.theme,"artifactNodeTheme"),nodeBorderColor:Object(s.get)(n.props.theme,"artifactNodeBorderTheme")},Container:{nodeColor:Object(s.get)(n.props.theme,"containerNodeTheme"),nodeBorderColor:Object(s.get)(n.props.theme,"containerNodeBorderTheme")},ArtifactType:{nodeColor:Object(s.get)(n.props.theme,"typeNodeTheme"),nodeBorderColor:Object(s.get)(n.props.theme,"typeNodeBorderTheme")},ContainerType:{nodeColor:Object(s.get)(n.props.theme,"typeNodeTheme"),nodeBorderColor:Object(s.get)(n.props.theme,"typeNodeBorderTheme")},RepositoryType:{nodeColor:Object(s.get)(n.props.theme,"typeNodeTheme"),nodeBorderColor:Object(s.get)(n.props.theme,"typeNodeBorderTheme")},RelationType:{nodeColor:Object(s.get)(n.props.theme,"typeNodeTheme"),nodeBorderColor:Object(s.get)(n.props.theme,"typeNodeBorderTheme")},Relation:{nodeColor:Object(s.get)(n.props.theme,"relationEdgeTheme"),nodeBorderColor:""},hasType:{nodeColor:Object(s.get)(n.props.theme,"hasTypeEdgeTheme"),nodeBorderColor:""},ownedBy:{nodeColor:Object(s.get)(n.props.theme,"ownedByEdgeTheme"),nodeBorderColor:""}}[e]}}),Object.defineProperty(Ht(n),"selectEdgeSize",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return{hasType:Object(s.get)(n.props.theme,"hasTypeEdgeSize"),ownedBy:Object(s.get)(n.props.theme,"ownedByEdgeSize"),Relation:Object(s.get)(n.props.theme,"relationEdgeSize")}[e]}}),Object.defineProperty(Ht(n),"selectLabel",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return{Artifact:"artifact",Container:"container",Repository:"repository",ArtifactType:"type",ContainerType:"type",RepositoryType:"type",RelationType:"type"}[e]}}),Object.defineProperty(Ht(n),"setFontSize",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=n.props,r=t.theme,o=t.graph,a=null;return e&&(a=Object(s.get)(o,"cachedRepos")[e]),r["".concat(Object(s.camelCase)(a),"FontSize")]||r.typeFontSize}}),Object.defineProperty(Ht(n),"selectNodeSize",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return{Artifact:Object(s.get)(n.props,"theme.artifactNodeSize"),Container:Object(s.get)(n.props,"theme.containerNodeSize"),Repository:Object(s.get)(n.props,"theme.repositoryNodeSize"),RelationType:Object(s.get)(n.props,"theme.typeNodeSize"),ArtifactType:Object(s.get)(n.props,"theme.typeNodeSize"),ContainerType:Object(s.get)(n.props,"theme.typeNodeSize"),RepositoryType:Object(s.get)(n.props,"theme.typeNodeSize")}[e]}}),Object.defineProperty(Ht(n),"setNodeSize",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=n.props,r=t.theme,o=t.graph,a=null;return e&&(a=Object(s.get)(o,"cachedRepos")[e]),r["".concat(Object(s.camelCase)(a),"NodeSize")]||r.typeNodeSize}}),Object.defineProperty(Ht(n),"selectFontSize",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return{Artifact:Object(s.get)(n.props,"theme.artifactFontSize"),Container:Object(s.get)(n.props,"theme.containerFontSize"),Repository:Object(s.get)(n.props,"theme.repositoryFontSize"),RelationType:Object(s.get)(n.props,"theme.typeFontSize"),ArtifactType:Object(s.get)(n.props,"theme.typeFontSize"),ContainerType:Object(s.get)(n.props,"theme.typeFontSize"),RepositoryType:Object(s.get)(n.props,"theme.typeFontSize"),hasType:Object(s.get)(n.props.theme,"hasTypeFontSize"),ownedBy:Object(s.get)(n.props.theme,"ownedByFontSize"),Relation:Object(s.get)(n.props.theme,"relationFontSize")}[e]}}),Object.defineProperty(Ht(n),"setFlag",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=n.props,r=t.theme,o=t.graph,a=null;return e&&(a=Object(s.get)(o,"cachedRepos")[e]),Object(s.isUndefined)(a)?r.checkedType:r["".concat(Object(s.camelCase)(a),"Checked")]}}),Object.defineProperty(Ht(n),"selectFlag",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return{Repository:Object(s.get)(n.props.theme,"checkedRepository"),Container:Object(s.get)(n.props.theme,"checkedContainer"),Artifact:Object(s.get)(n.props.theme,"checkedArtifact"),RelationType:Object(s.get)(n.props.theme,"checkedType"),ArtifactType:Object(s.get)(n.props.theme,"checkedType"),ContainerType:Object(s.get)(n.props.theme,"checkedType"),RepositoryType:Object(s.get)(n.props.theme,"checkedType"),ownedBy:Object(s.get)(n.props.theme,"checkedOwnedBy"),hasType:Object(s.get)(n.props.theme,"checkedHasType"),Relation:Object(s.get)(n.props.theme,"checkedRelation")}[e]}}),Object.defineProperty(Ht(n),"createsKeys",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(){var t,r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.graph,r=n.state,o=r.graphNodes,a=r.graphEdges,i=[],a.length?Object(s.each)(Object(s.filter)(a,{group:"nodes"}),function(e){Object(s.get)(t,"cachedRepos")[e.data.typeKey]||(i=Ut(i).concat([e.data.typeKey]))}):Object(s.each)(o,function(e){Object(s.get)(t,"cachedRepos")[e.data.typeKey]||(i=Ut(i).concat([e.data.typeKey]))}),e.next=6,n.props.setOrphanKeys({orphanKeys:Object(s.uniq)(i)});case 6:if(!i.length){e.next=9;break}return e.next=9,n.fetchKeys(n.createKeysFetch(Object(s.uniq)(i)));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"createKeysFetch",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t="";return Object(s.each)(e,function(r){Object(s.isEqual)(r,Object(s.last)(e))?t+="'".concat(r,"'"):t+="'".concat(r,"',")}),t}}),Object.defineProperty(Ht(n),"createGraphEdges",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=n.state.graphEdges,r=n.props.theme;Object(s.each)(e,function(e){var o=e.properties,a=o.name||e.label,i=Object(s.get)(e,"sourceVertex.properties"),c=Object(s.get)(e,"targetVertex.properties"),l=Object(s.isUndefined)(Object(s.get)(e,"sourceVertex.properties.type"))?Object(s.get)(e,"sourceVertex.properties.sKey"):Object(s.get)(JSON.parse(Object(s.get)(e,"sourceVertex.properties.type")),"key"),u=Object(s.isUndefined)(Object(s.get)(e,"targetVertex.properties.type"))?Object(s.get)(e,"targetVertex.properties.sKey"):Object(s.get)(JSON.parse(Object(s.get)(e,"targetVertex.properties.type")),"key");t.push({group:"nodes",label:n.selectLabel(Object(s.get)(e,"sourceVertex.label")),data:{name:Object(s.get)(e,"sourceVertex.label"),key:i.sKey,typeKey:l,label:n.selectLabel(Object(s.get)(e,"sourceVertex.label")),attributes:i.attributes,createdBy:i.createdBy,createdDate:i.createdDate,customTypes:i.customTypes,description:i.description,externalId:i.externalId,externalKey:i.externalKey,targetUrl:i.htmlUrl,modifiedBy:i.modifiedBy,modifiedDate:i.modifiedDate,otherInfo:i.otherInfo,uri:i.uri,sourceLabel:"NA",targetLabel:"NA",source:"NA",target:"NA",flag:n.selectFlag(Object(s.get)(e,"sourceVertex.label")),id:e.sourceVertex.id,color:Object(s.isEqual)(Object(s.get)(r,"preferences"),"repositoryType")?Object(s.get)(n.setColor(l),"nodeColor"):Object(s.get)(n.selectColor(e.sourceVertex.label),"nodeColor"),borderColor:Object(s.isEqual)(Object(s.get)(r,"preferences"),"repositoryType")?Object(s.get)(n.setColor(l),"nodeBorderColor"):Object(s.get)(n.selectColor(e.sourceVertex.label),"nodeBorderColor"),synId:i.id,synName:i.name,nodeSize:Object(s.isEqual)(Object(s.get)(r,"preferences"),"repositoryType")?n.setNodeSize(l):n.selectNodeSize(Object(s.get)(e,"sourceVertex.label")),fontSize:Object(s.isEqual)(Object(s.get)(r,"preferences"),"repositoryType")?n.setFontSize(l):n.selectFontSize(Object(s.get)(e,"sourceVertex.label"))}},{group:"nodes",label:n.selectLabel(Object(s.get)(e,"targetVertex.label")),data:{name:e.targetVertex.label,key:c.sKey,typeKey:u,label:n.selectLabel(Object(s.get)(e,"targetVertex.label")),attributes:c.attributes,createdBy:c.createdBy,createdDate:c.createdDate,customTypes:c.customTypes,description:c.description,externalId:c.externalId,externalKey:c.externalKey,targetUrl:c.htmlUrl,modifiedBy:c.modifiedBy,modifiedDate:c.modifiedDate,otherInfo:c.otherInfo,uri:c.uri,flag:n.selectFlag(Object(s.get)(e,"targetVertex.label")),id:e.targetVertex.id,synId:c.id,synName:c.name,sourceLabel:"NA",targetLabel:"NA",source:"NA",target:"NA",color:Object(s.isEqual)(Object(s.get)(r,"preferences"),"repositoryType")?Object(s.get)(n.setColor(u),"nodeColor"):Object(s.get)(n.selectColor(e.targetVertex.label),"nodeColor"),borderColor:Object(s.isEqual)(Object(s.get)(r,"preferences"),"repositoryType")?Object(s.get)(n.setColor(u),"nodeBorderColor"):Object(s.get)(n.selectColor(e.targetVertex.label),"nodeBorderColor"),nodeSize:Object(s.isEqual)(Object(s.get)(r,"preferences"),"repositoryType")?n.setNodeSize(u):n.selectNodeSize(e.targetVertex.label),fontSize:Object(s.isEqual)(Object(s.get)(r,"preferences"),"repositoryType")?n.setFontSize(u):n.selectFontSize(e.targetVertex.label)}},{group:"edges",data:{name:e.label,key:o.sKey,label:n.selectLabel(e.targetVertex.label),attributes:o.attributes,createdBy:o.createdBy,createdDate:o.createdDate,customTypes:o.customTypes,description:o.description,externalId:o.externalId,externalKey:o.externalKey,targetUrl:o.htmlUrl,modifiedBy:o.modifiedBy,modifiedDate:o.modifiedDate,otherInfo:o.otherInfo,uri:o.uri,id:e.id,synId:o.id,synName:a,sourceLabel:e.sourceVertex.label,targetLabel:e.targetVertex.label,source:e.sourceVertex.id,target:e.targetVertex.id,flag:n.selectFlag(e.label),color:Object(s.get)(n.selectColor(e.label),"nodeColor"),edgeSize:n.selectEdgeSize(e.label)||W.f.edgeSize,fontSize:n.selectFontSize(e.label)}})});var o=Object(s.filter)(t,function(e){return"nodes"===e.group});return t=Object(s.filter)(t,function(e){return"edges"===e.group}),Object(s.each)(o,function(e){"nodes"!==e.group||e.data.flag||Object(s.each)(t,function(t){t.data.source!==e.data.id&&t.data.target!==e.data.id||(t.data.flag=!1)})}),n.setState({graphTableEdges:Ut(t).concat(Ut(o))}),Object(s.filter)(Ut(t).concat(Ut(o)),function(e){return e.data.flag})}}),Object.defineProperty(Ht(n),"createGraphNodes",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=n.state.graphNodes,r=n.props.theme;return Object(s.each)(e,function(e){var o=Object(s.isUndefined)(Object(s.get)(e,"properties.type"))?Object(s.get)(e,"properties.sKey"):Object(s.get)(JSON.parse(Object(s.get)(e,"properties.type")),"key");t.push({group:"nodes",label:n.selectLabel(e.label),data:{name:e.label,key:e.properties.sKey,label:n.selectLabel(e.label),attributes:e.properties.attributes,createdBy:e.properties.createdBy,createdDate:e.properties.createdDate,customTypes:e.properties.customTypes,description:e.properties.description,externalId:e.properties.externalId,externalKey:e.properties.externalKey,targetUrl:e.properties.htmlUrl,modifiedBy:e.properties.modifiedBy,modifiedDate:e.properties.modifiedDate,otherInfo:e.properties.otherInfo,uri:e.properties.uri,sourceLabel:"NA",targetLabel:"NA",source:"NA",target:"NA",flag:n.selectFlag(e.label),id:e.id,color:Object(s.isEqual)(Object(s.get)(r,"preferences"),"repositoryType")?Object(s.get)(n.setColor(o),"nodeColor"):Object(s.get)(n.selectColor(e.label),"nodeColor"),borderColor:Object(s.isEqual)(Object(s.get)(r,"preferences"),"repositoryType")?Object(s.get)(n.setColor(o),"nodeBorderColor"):Object(s.get)(n.selectColor(e.label),"nodeBorderColor"),synId:e.properties.id,synName:e.properties.name,nodeSize:Object(s.isEqual)(Object(s.get)(r,"preferences"),"repositoryType")?n.setNodeSize(o):n.selectNodeSize(e.label),fontSize:Object(s.isEqual)(Object(s.get)(r,"preferences"),"repositoryType")?n.setFontSize(o):n.selectFontSize(e.label)}})}),n.setState({graphTableNodes:t}),Object(s.filter)(t,function(e){return e.data.flag})}}),Object.defineProperty(Ht(n),"fetchGraph",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(t){var r,o,a,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.context.fetch,o=n.props.graph,a=o.query,e.next=6,n.setState({loading:!0});case 6:return e.prev=6,e.next=9,r("".concat(W.b.graph),{method:"POST",body:JSON.stringify({query:a}),headers:{"Content-Type":"application/json"}});case 9:return i=e.sent,e.next=12,i.json();case 12:if(c=e.sent,i.ok){e.next=23;break}return e.next=16,n.setState({graphTableEdges:[],graphTableNodes:[],graphNodes:[],graphEdges:[],loading:!1});case 16:return e.next=18,n.props.openNotifier({openNotify:!0,variant:"error",message:W.r.errorInFetching});case 18:return e.next=20,n.setInitialState();case 20:return e.next=22,n.props.queryUpdate({query:Object(s.get)(o,"query")||""});case 22:return e.abrupt("return");case 23:return e.next=25,n.props.queryUpdate({query:Object(s.get)(o,"query")||""});case 25:return e.next=27,n.setInitialState();case 27:return e.next=29,n.props.fetchGraph(c.resources);case 29:return e.next=31,n.setState({graphTableEdges:[],graphTableNodes:[],graphNodes:[],graphEdges:[],loading:!1});case 31:if(!Object(s.has)(c.resources,"otherResult")||!Object(s.get)(c.resources,"otherResult.length")){e.next=34;break}return e.next=34,n.props.setActiveVerticalTab({activeIndex:1});case 34:return e.next=36,n.formatGraphData();case 36:return e.next=38,n.createsKeys();case 38:return e.next=40,n.setState({graphEdges:[],graphNodes:[]},function(){n.formatGraphData()});case 40:e.next=52;break;case 42:return e.prev=42,e.t0=e.catch(6),e.next=46,n.setState({graphTableEdges:[],graphTableNodes:[],graphNodes:[],graphEdges:[],loading:!1});case 46:return e.next=48,n.props.openNotifier({openNotify:!0,variant:"error",message:W.r.errorInFetching});case 48:return e.next=50,n.setInitialState();case 50:return e.next=52,n.props.queryUpdate({query:Object(s.get)(o,"query")||""});case 52:case"end":return e.stop()}},e,this,[[6,42]])}));return function(t){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"handleClickOpen",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({open:!0});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"handleClose",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({open:!1,propertyKey:"",propertyValue:""});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"handleChangeProperty",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(t){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target,o=r.id,a=r.value,e.next=3,n.setState(Mt({},o,a));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"selectDomainType",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var r=Object(s.get)(t,"target");n.props.selectDomain({domain:Object(s.get)(r,"id")||Object(s.get)(e,"target.id"),domainLabel:e.name||Object(s.get)(e,"target.id")})}}),Object.defineProperty(Ht(n),"selectNode",{configurable:!0,enumerable:!0,writable:!0,value:function(e){n.props.selectNode({node:e})}}),Object.defineProperty(Ht(n),"selectCurrentNode",{configurable:!0,enumerable:!0,writable:!0,value:function(e){n.props.selectCurrentNode({currentNode:e})}}),Object.defineProperty(Ht(n),"selectRelationType",{configurable:!0,enumerable:!0,writable:!0,value:function(e){n.props.selectRelation({domain:e.target.id,domainLabel:e.target.id})}}),Object.defineProperty(Ht(n),"handleChangeThemeColor",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.theme.domain,e.next=3,n.props.selectDomain(Mt({},"".concat(r,"NodeTheme"),t.value));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"handleChangeNodeTheme",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.props.theme.domain,e.t0=r,e.next="artifact"===e.t0?4:"container"===e.t0?7:"repository"===e.t0?10:"type"===e.t0?13:"relation"===e.t0?16:"hasType"===e.t0?19:"ownedBy"===e.t0?22:25;break;case 4:return e.next=6,n.props.selectDomain({artifactNodeTheme:Object(s.get)(t,"value"),artifactNodeBorderTheme:Object(s.get)(t,"valueDarker")});case 6:return e.abrupt("break",26);case 7:return e.next=9,n.props.selectDomain({containerNodeTheme:Object(s.get)(t,"value"),containerNodeBorderTheme:Object(s.get)(t,"valueDarker")});case 9:return e.abrupt("break",26);case 10:return e.next=12,n.props.selectDomain({repositoryNodeTheme:Object(s.get)(t,"value"),repositoryNodeBorderTheme:Object(s.get)(t,"valueDarker")});case 12:return e.abrupt("break",26);case 13:return e.next=15,n.props.selectDomain({typeNodeTheme:Object(s.get)(t,"value"),typeNodeBorderTheme:Object(s.get)(t,"valueDarker")});case 15:return e.abrupt("break",26);case 16:return e.next=18,n.props.selectDomain({relationEdgeTheme:Object(s.get)(t,"value")});case 18:return e.abrupt("break",26);case 19:return e.next=21,n.props.selectDomain({hasTypeEdgeTheme:Object(s.get)(t,"value")});case 21:return e.abrupt("break",26);case 22:return e.next=24,n.props.selectDomain({ownedByEdgeTheme:Object(s.get)(t,"value")});case 24:case 25:return e.abrupt("break",26);case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"handleChangeNodeProps",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(t){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.props.theme.domain,e.next=3,n.props.selectNodeSize((Mt(r={},"".concat(o,"NodeSize"),t.nodeSize),Mt(r,"".concat(o,"FontSize"),t.fontSize),r));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"handleChangeEdgeProps",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(t,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=n.props.theme.domain,e.t0=o,e.next="ownedBy"===e.t0?4:"hasType"===e.t0?7:"relation"===e.t0?10:13;break;case 4:return e.next=6,n.props.selectEdgeSize({ownedByEdgeSize:t,ownedByFontSize:r});case 6:return e.abrupt("break",14);case 7:return e.next=9,n.props.selectEdgeSize({hasTypeEdgeSize:t,hasTypeFontSize:r});case 9:return e.abrupt("break",14);case 10:return e.next=12,n.props.selectEdgeSize({relationEdgeSize:t,relationFontSize:r});case 12:case 13:return e.abrupt("break",14);case 14:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"handleChangeQuery",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.props.graph.label,n.props.queryUpdate({query:t.target.value}),r&&n.props.changeDomain({label:""});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"handleSelect",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return function(){var t=Wt(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.props.checkDomainOrType(Mt({},e,r.target.checked));case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),Object.defineProperty(Ht(n),"handleSwitch",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.switchNodeThemePreferences({preferences:t.target.value});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"handleDisplayChange",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({graphEdges:[],graphNodes:[]},function(){n.formatGraphData()});case 2:return e.next=4,n.props.selectNode({node:{}});case 4:return e.next=6,n.props.selectCurrentNode({currentNode:{}});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),Object.defineProperty(Ht(n),"handleExpandPanel",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Wt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.expandedPanel,e.next=3,n.setState({expandedPanel:!t});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),function(e,t,r){t&&$t(e.prototype,t),r&&$t(e,r)}(t,[{key:"componentDidMount",value:function(){var e=Wt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=this.props.graph)&&Object(s.get)(t,"vertices.length")||Object(s.get)(t,"edges.length"))){e.next=8;break}return e.next=4,this.setInitialState(!0);case 4:return e.next=6,this.formatGraphData();case 6:e.next=12;break;case 8:return e.next=10,this.fetchRepositoryTypes();case 10:return e.next=12,this.setInitialState();case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"formatToList",value:function(e){var t=e[0].replace(/\[/g,"").replace(/\]/g,"").split(", ");return Mt({},t[0],t[1])}},{key:"render",value:function(){var e=this,t=this.state,r=t.propertyKey,n=t.propertyValue,o=t.graphNodes,i=t.graphEdges,c=t.open,l=t.properties,u=t.loading,p=t.expandedPanel,d=this.props,f=d.classes,b=d.graph,h=d.theme,g=h.artifactNodeTheme,m=h.containerNodeTheme,v=h.repositoryNodeTheme,O=h.typeNodeTheme,w=h.ownedByEdgeTheme,T=h.relationEdgeTheme,S=h.hasTypeEdgeTheme,k=h.checkedRepository,N=h.checkedArtifact,x=h.checkedType,E=h.checkedContainer,P=h.checkedHasType,R=h.checkedOwnedBy,B=h.checkedRelation;return Lt("div",{className:f.root},void 0,Lt(y.T,{style:{paddingLeft:0,paddingRight:0},className:f.paper},void 0,Lt(y.u,{expanded:p,onChange:this.handleExpandPanel},void 0,Lt(y.w,{expandIcon:Qt},void 0,Lt(y.qb,{className:f.heading},void 0,"Gremlin Query",Object(s.get)(b,"query")?" : ".concat(Object(s.get)(b,"query")):"")),Lt(y.v,{},void 0,Lt(y.C,{container:!0,spacing:24},void 0,Lt(y.C,{item:!0,xs:3},void 0,Lt(j,{value:Object(s.get)(b,"builderType")})),Object(s.isEqual)(Object(s.get)(b,"builderType"),"rawQuery")?Lt(y.C,{item:!0,xs:9},void 0,Lt("form",{onSubmit:this.fetchGraph},void 0,Lt(C,{id:"layout",label:"Layout",value:Object(s.get)(b,"layout")||"",handleChange:function(t){e.props.layoutUpdate({layout:t.target.value})},list:W.l}),Lt(y.y,{className:f.textFieldContainer,disabled:Object(s.isEqual)(Object(s.get)(b,"builderType"),"queryBuilder")},void 0,Lt(y.nb,{id:"standard-name",label:"Gremlin Query",value:Object(s.get)(b,"query")||"",onChange:this.handleChangeQuery,fullWidth:!0,disabled:Object(s.isEqual)(Object(s.get)(b,"builderType"),"queryBuilder")})),Lt(y.d,{variant:"contained",color:"primary",className:f.button,disabled:!(Object(s.get)(b,"query")&&Object(s.get)(b,"layout")),type:"submit"},void 0,"Run"))):a.a.createElement(a.a.Fragment,null,Lt(y.C,{item:!0,xs:9},void 0,Lt("form",{onSubmit:this.fetchGraph},void 0,Lt(C,{id:"label",label:"Label",value:Object(s.get)(b,"label")||"",handleChange:function(t){var r;r=t.target.value,e.props.changeDomain({label:r}),e.props.queryUpdate({query:r})},disabled:Object(s.isEqual)(b&&b.builderType,"rawQuery"),list:W.h}),Lt(C,{id:"layout",label:"Layout",value:Object(s.get)(b,"layout")||"",handleChange:function(t){e.props.layoutUpdate({layout:t.target.value})},disabled:Object(s.isEqual)(Object(s.get)(b,"builderType"),"rawQuery"),list:W.l}),Object(s.map)(l,function(t,r){return Lt(Kt,{propertyKey:r,propertyValue:t,handleClick:e.delete},r)}),Lt(_t,{open:c,onClose:this.handleClose,propertyKey:r,propertyValue:n,handleChange:this.handleChangeProperty,onSave:this.onSave,disabled:!0}),Lt(y.d,{variant:"contained",color:"primary",className:f.button,onClick:this.handleClickOpen,disabled:!Object(s.get)(b,"label")},void 0,"Add Property"),Lt(y.d,{variant:"contained",color:"primary",className:f.button,disabled:!(Object(s.get)(b,"query")&&Object(s.get)(b,"layout")),type:"submit"},void 0,"Run")))))))),Lt(y.T,{style:{paddingLeft:12,paddingRight:12},className:f.paper},void 0,Lt(y.C,{container:!0,spacing:24},void 0,Lt(Ct,{nodes:o,relations:i,graphData:b,layout:b&&b.layout,open:c,artifactNodeTheme:g,containerNodeTheme:m,repositoryNodeTheme:v,typeNodeTheme:O,relationEdgeTheme:T,hasTypeEdgeTheme:S,ownedByEdgeTheme:w,checkedRepository:k,checkedArtifact:N,checkedContainer:E,checkedType:x,checkedHasType:P,checkedOwnedBy:R,checkedRelation:B,handleChangeNodeTheme:this.handleChangeNodeTheme,handleChangeThemeColor:this.handleChangeThemeColor,loading:u,theme:h,selectDomainType:this.selectDomainType,selectNode:this.selectNode,selectCurrentNode:this.selectCurrentNode,selectRelationType:this.selectRelationType,handleChangeNodeProps:this.handleChangeNodeProps,handleChangeEdgeProps:this.handleChangeEdgeProps,handleSelect:this.handleSelect,handleDisplayChange:this.handleDisplayChange,setActiveVerticalTab:this.setActiveVerticalTab,handleSwitch:this.handleSwitch}))))}}]),t}();Object.defineProperty(Jt,"contextTypes",{configurable:!0,enumerable:!0,writable:!0,value:{fetch:l.a.func.isRequired}}),Object.defineProperty(Jt,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{classes:{},graph:{},theme:{},openNotifier:function(){}}});var Yt,Xt=Object(p.b)(null,{fetchGraph:d.b,changeDomain:d.a,queryUpdate:d.d,layoutUpdate:d.c,selectDomain:f.d,selectTheme:f.i,selectNodeSize:f.g,selectRelation:f.h,checkDomainOrType:f.a,selectNode:f.f,selectEdgeSize:f.e,openNotifier:$.c,setGraphTableData:d.f,selectCurrentNode:f.c,setActiveVerticalTab:d.e,switchQueryBuilder:d.i,setRepositories:d.h,setOrphanKeys:d.g,switchNodeThemePreferences:f.j})(function(e){return Object(p.b)(function(e){return{theme:e.theme}})(e)}(Object(G.a)(Object(b.a)(Object(y.ub)(function(e){return{root:{width:"100%"},paper:Zt({},e.mixins.gutters(),{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,marginBottom:20}),formControlTextField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,marginBottom:e.spacing.unit},containerWrapper:{margin:20,marginTop:0},textFieldContainer:{width:"75%"},button:{margin:e.spacing.unit,backgroundColor:W.e.NAVY_BLUE,textTransform:"capitalize"},tabContainer:{padding:0},heading:{fontSize:e.typography.pxToRem(15),fontWeight:"bold"}}},{withTheme:!0})(Jt)))));function er(e,t,r,n){Yt||(Yt="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var c=new Array(a),l=0;l<a;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:Yt,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var tr="Syndeia Graph Queries";var rr=er(i.a,{},void 0,er(Xt,{}));function nr(){return(nr=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e,t){try{var r=a[e](t),i=r.value}catch(e){return void o(e)}r.done?n(i):Promise.resolve(i).then(c,l)}function c(e){i("next",e)}function l(e){i("throw",e)}c()})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{chunks:["graph-visual"],title:tr,component:rr});case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}t.default=function(){return nr.apply(this,arguments)}},571:function(e,t,r){"use strict";var n,o=r(14),a=r.n(o),i=(r(10),r(481)),c=r(1);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var c in a)void 0===t[c]&&(t[c]=a[c]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=new Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=Object(i.ub)({root:{display:"-webkit-box",margin:0}})(i.z),y=Object(i.ub)({root:{color:"".concat(c.e.NAVY_BLUE," !important"),display:"inline-block",padding:"0 12px"}})(i.e),h=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return p(n,(r=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Object.defineProperty(d(n),"createSortHandler",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return function(t){n.props.onRequestSort(t,e)}}}),r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),function(e,t,r){t&&u(e.prototype,t),r&&u(e,r)}(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.order,n=t.orderBy,o=t.rows,a=t.selectAll,c=t.selectAllItems,l=t.classes;return s(i.ib,{},void 0,s(i.kb,{},void 0,s(i.hb,{padding:"checkbox",className:l.tbodyTh},void 0,s(b,{control:s(y,{checked:a,onChange:c,disableRipple:!0})})),o.map(function(t,o){return s(i.hb,{align:"center",sortDirection:n===t.id&&r,className:0===o?l.tbodyTh2:l.theadTh},t.id,t.id?s(i.pb,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},void 0,s(i.lb,{active:n===t.id,direction:r,onClick:e.createSortHandler(t.id)},void 0,t.label)):t.label)},this)))}}]),t}();h.defaultProps={selectAll:!1,selectAllItems:function(){}},t.a=Object(i.ub)(function(e){return{theadTh:f({position:"relative",top:0,background:c.e.WHITE,zIndex:1,padding:15,borderTop:"1px solid #CCC"},e.breakpoints.up("sm"),{position:"sticky"}),tbodyTh:f({position:"relative",left:0,background:c.e.WHITE,borderTop:"1px solid #CCC",top:0,zIndex:200},e.breakpoints.up("sm"),{position:"sticky"}),tbodyTh2:f({position:"relative",left:0,background:c.e.WHITE,borderTop:"1px solid #CCC",top:0,zIndex:200},e.breakpoints.up("sm"),{position:"sticky",left:70})}})(h)}}]);
//# sourceMappingURL=graph-visual.74830512.chunk.js.map